{"ast":null,"code":"var _jsxFileName = \"/home/sabrina/TMDb-FlixMovies/src/components/Content.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { MdFavorite, MdOutlineFavoriteBorder } from 'react-icons/md';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport peliculas from '../styles/peliculas.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Content = () => {\n  _s();\n\n  //Si no está logeado no puede buscar\n  const token = '5a2cd889e715aa8e13b5764264b5166';\n  const {\n    value\n  } = useParams();\n  const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\n  const [addFav, setAddfav] = useState({});\n  const [search, setSearch] = useState([]);\n\n  const handlerCLickAdd = movie => {\n    console.log(movie);\n    axios.put('http://localhost:3001/api/favorites/add', {\n      code: movie.id,\n      title: movie.title,\n      overview: movie.overview,\n      imagen: movie.poster_path,\n      userId: user_id\n    });\n  };\n\n  const handlerCLickRemove = movie => {\n    axios.delete(`http://localhost:3001/api/favorites/remove/${user_id}/${movie.id}`).then(res => res.data).then(addfav => setAddfav(addfav));\n  };\n\n  useEffect(() => {\n    axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${token}c&query=${value}`).then(res => res.data).then(search => setSearch(search.results));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      class: \"titles-estrenos\",\n      children: \"Resultados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-grid\",\n      children: search.map((movie, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => {\n              handlerCLickRemove(movie);\n            },\n            class: \"btn btn-danger pop-fav\",\n            children: /*#__PURE__*/_jsxDEV(MdOutlineFavoriteBorder, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 113\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => {\n              handlerCLickAdd(movie);\n            },\n            class: \"btn btn-danger pop-fav\",\n            children: [/*#__PURE__*/_jsxDEV(MdFavorite, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 110\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this), movie.poster_path !== null ? /*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"pop-img\",\n            src: `https://image.tmdb.org/t/p/w200/${movie.poster_path}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 65\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"noContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"pop-title\",\n              children: \"Imagen no disponible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"pop-title\",\n            children: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Content, \"Y6rb2YGMRYi5hfrJ59BR4MeaU9w=\", false, function () {\n  return [useParams];\n});\n\n_c = Content;\nexport default Content;\n\nvar _c;\n\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["React","axios","MdFavorite","MdOutlineFavoriteBorder","useState","useEffect","useParams","peliculas","Content","token","value","user_id","JSON","parse","localStorage","getItem","id","addFav","setAddfav","search","setSearch","handlerCLickAdd","movie","console","log","put","code","title","overview","imagen","poster_path","userId","handlerCLickRemove","delete","then","res","data","addfav","get","results","map","i"],"sources":["/home/sabrina/TMDb-FlixMovies/src/components/Content.jsx"],"sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { MdFavorite, MdOutlineFavoriteBorder } from 'react-icons/md'\nimport { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport peliculas from '../styles/peliculas.scss'\n\n\n\nconst Content = () => {\n    //Si no está logeado no puede buscar\n\n    const token = '5a2cd889e715aa8e13b5764264b5166'\n    const { value } = useParams()\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id\n    const [addFav, setAddfav] = useState({})\n    const [search, setSearch] = useState([])\n\n\n\n    const handlerCLickAdd = (movie) => {\n        console.log(movie)\n        axios.put('http://localhost:3001/api/favorites/add', { code: movie.id, title: movie.title, overview: movie.overview, imagen: movie.poster_path, userId: user_id })\n\n    }\n\n    const handlerCLickRemove = (movie) => {\n        axios.delete(`http://localhost:3001/api/favorites/remove/${user_id}/${movie.id}`\n        )\n            .then((res) => res.data)\n            .then((addfav) => setAddfav(addfav))\n    }\n\n    useEffect(() => {\n        axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${token}c&query=${value}`)\n            .then((res) => res.data)\n            .then((search) => setSearch(search.results))\n    }, [])\n\n\n\n    return (\n        <div>\n            <h1 class='titles-estrenos'>Resultados</h1>\n            <div className=\"movie-grid\" >\n                {\n                    search.map((movie, i) => {\n                        return (\n                            <div key={i}>\n\n\n                                <a onClick={() => { handlerCLickRemove(movie) }} class=\"btn btn-danger pop-fav\"><MdOutlineFavoriteBorder /></a>\n                                <br />\n                                <br />\n\n                                <a onClick={() => { handlerCLickAdd(movie) }} class=\"btn btn-danger pop-fav\"><MdFavorite /> </a>\n\n                                {(movie.poster_path !== null) ? <img class='pop-img' src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`} /> :\n                                    <div class='noContent'>\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <p class='pop-title'>Imagen no disponible</p>\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </div>}\n\n                                <p class='pop-title'>{movie.title}</p>\n\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        </div >\n    )\n}\n\nexport default Content;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}